"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[58],{5961:(ee,M,f)=>{f.d(M,{GW:()=>T,dk:()=>k,oK:()=>c});var c=function(v){return v.Prompt="PROMPT",v.Camera="CAMERA",v.Photos="PHOTOS",v}(c||{}),T=function(v){return v.Rear="REAR",v.Front="FRONT",v}(T||{}),k=function(v){return v.Uri="uri",v.Base64="base64",v.DataUrl="dataUrl",v}(k||{})},2726:(ee,M,f)=>{f.d(M,{Uw:()=>G,fo:()=>D,xz:()=>e});var c=f(5861);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var A=function(o){return o.Unimplemented="UNIMPLEMENTED",o.Unavailable="UNAVAILABLE",o}(A||{});class e extends Error{constructor(t,n,i){super(t),this.message=t,this.code=n,this.data=i}}const C=o=>{var t,n,i,d,r;const g=o.CapacitorCustomPlatform||null,s=o.Capacitor||{},P=s.Plugins=s.Plugins||{},m=o.CapacitorPlatforms,S=(null===(t=null==m?void 0:m.currentPlatform)||void 0===t?void 0:t.getPlatform)||(()=>null!==g?g.name:(o=>{var t,n;return null!=o&&o.androidBridge?"android":null!==(n=null===(t=null==o?void 0:o.webkit)||void 0===t?void 0:t.messageHandlers)&&void 0!==n&&n.bridge?"ios":"web"})(o)),ce=(null===(n=null==m?void 0:m.currentPlatform)||void 0===n?void 0:n.isNativePlatform)||(()=>"web"!==S()),ge=(null===(i=null==m?void 0:m.currentPlatform)||void 0===i?void 0:i.isPluginAvailable)||(h=>{const b=Y.get(h);return!!(null!=b&&b.platforms.has(S())||se(h))}),se=(null===(d=null==m?void 0:m.currentPlatform)||void 0===d?void 0:d.getPluginHeader)||(h=>{var b;return null===(b=s.PluginHeaders)||void 0===b?void 0:b.find(W=>W.name===h)}),Y=new Map,ve=(null===(r=null==m?void 0:m.currentPlatform)||void 0===r?void 0:r.registerPlugin)||((h,b={})=>{const W=Y.get(h);if(W)return console.warn(`Capacitor plugin "${h}" already registered. Cannot register plugins twice.`),W.proxy;const H=S(),I=se(h);let L;const be=function(){var w=(0,c.Z)(function*(){return!L&&H in b?L=L="function"==typeof b[H]?yield b[H]():b[H]:null!==g&&!L&&"web"in b&&(L=L="function"==typeof b.web?yield b.web():b.web),L});return function(){return w.apply(this,arguments)}}(),V=w=>{let _;const Z=(...O)=>{const U=be().then(x=>{const j=((w,_)=>{var Z,O;if(!I){if(w)return null===(O=w[_])||void 0===O?void 0:O.bind(w);throw new e(`"${h}" plugin is not implemented on ${H}`,A.Unimplemented)}{const U=null==I?void 0:I.methods.find(x=>_===x.name);if(U)return"promise"===U.rtype?x=>s.nativePromise(h,_.toString(),x):(x,j)=>s.nativeCallback(h,_.toString(),x,j);if(w)return null===(Z=w[_])||void 0===Z?void 0:Z.bind(w)}})(x,w);if(j){const R=j(...O);return _=null==R?void 0:R.remove,R}throw new e(`"${h}.${w}()" is not implemented on ${H}`,A.Unimplemented)});return"addListener"===w&&(U.remove=(0,c.Z)(function*(){return _()})),U};return Z.toString=()=>`${w.toString()}() { [capacitor code] }`,Object.defineProperty(Z,"name",{value:w,writable:!1,configurable:!1}),Z},le=V("addListener"),de=V("removeListener"),we=(w,_)=>{const Z=le({eventName:w},_),O=function(){var x=(0,c.Z)(function*(){const j=yield Z;de({eventName:w,callbackId:j},_)});return function(){return x.apply(this,arguments)}}(),U=new Promise(x=>Z.then(()=>x({remove:O})));return U.remove=(0,c.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield O()}),U},X=new Proxy({},{get(w,_){switch(_){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return I?we:le;case"removeListener":return de;default:return V(_)}}});return P[h]=X,Y.set(h,{name:h,proxy:X,platforms:new Set([...Object.keys(b),...I?[H]:[]])}),X});return s.convertFileSrc||(s.convertFileSrc=h=>h),s.getPlatform=S,s.handleError=h=>o.console.error(h),s.isNativePlatform=ce,s.isPluginAvailable=ge,s.pluginMethodNoop=(h,b,W)=>Promise.reject(`${W} does not have an implementation of "${b}".`),s.registerPlugin=ve,s.Exception=e,s.DEBUG=!!s.DEBUG,s.isLoggingEnabled=!!s.isLoggingEnabled,s.platform=s.getPlatform(),s.isNative=s.isNativePlatform(),s},E=(o=>o.Capacitor=C(o))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),D=E.registerPlugin;class G{constructor(t){this.listeners={},this.windowListeners={},t&&(console.warn(`Capacitor WebPlugin "${t.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=t)}addListener(t,n){var i=this;this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(n);const r=this.windowListeners[t];r&&!r.registered&&this.addWindowListener(r);const g=function(){var P=(0,c.Z)(function*(){return i.removeListener(t,n)});return function(){return P.apply(this,arguments)}}(),s=Promise.resolve({remove:g});return Object.defineProperty(s,"remove",{value:(P=(0,c.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield g()}),function(){return P.apply(this,arguments)})}),s;var P}removeAllListeners(){var t=this;return(0,c.Z)(function*(){t.listeners={};for(const n in t.windowListeners)t.removeWindowListener(t.windowListeners[n]);t.windowListeners={}})()}notifyListeners(t,n){const i=this.listeners[t];i&&i.forEach(d=>d(n))}hasListeners(t){return!!this.listeners[t].length}registerWindowListener(t,n){this.windowListeners[n]={registered:!1,windowEventName:t,pluginEventName:n,handler:i=>{this.notifyListeners(n,i)}}}unimplemented(t="not implemented"){return new E.Exception(t,A.Unimplemented)}unavailable(t="not available"){return new E.Exception(t,A.Unavailable)}removeListener(t,n){var i=this;return(0,c.Z)(function*(){const d=i.listeners[t];if(!d)return;const r=d.indexOf(n);i.listeners[t].splice(r,1),i.listeners[t].length||i.removeWindowListener(i.windowListeners[t])})()}addWindowListener(t){window.addEventListener(t.windowEventName,t.handler),t.registered=!0}removeWindowListener(t){t&&(window.removeEventListener(t.windowEventName,t.handler),t.registered=!1)}}const B=o=>encodeURIComponent(o).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),J=o=>o.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Q extends G{getCookies(){return(0,c.Z)(function*(){const t=document.cookie,n={};return t.split(";").forEach(i=>{if(i.length<=0)return;let[d,r]=i.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");d=J(d).trim(),r=J(r).trim(),n[d]=r}),n})()}setCookie(t){return(0,c.Z)(function*(){try{const n=B(t.key),i=B(t.value),d=`; expires=${(t.expires||"").replace("expires=","")}`,r=(t.path||"/").replace("path=",""),g=null!=t.url&&t.url.length>0?`domain=${t.url}`:"";document.cookie=`${n}=${i||""}${d}; path=${r}; ${g};`}catch(n){return Promise.reject(n)}})()}deleteCookie(t){return(0,c.Z)(function*(){try{document.cookie=`${t.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}})()}clearCookies(){return(0,c.Z)(function*(){try{const t=document.cookie.split(";")||[];for(const n of t)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(t){return Promise.reject(t)}})()}clearAllCookies(){var t=this;return(0,c.Z)(function*(){try{yield t.clearCookies()}catch(n){return Promise.reject(n)}})()}}D("CapacitorCookies",{web:()=>new Q});const K=function(){var o=(0,c.Z)(function*(t){return new Promise((n,i)=>{const d=new FileReader;d.onload=()=>{const r=d.result;n(r.indexOf(",")>=0?r.split(",")[1]:r)},d.onerror=r=>i(r),d.readAsDataURL(t)})});return function(n){return o.apply(this,arguments)}}();class p extends G{request(t){return(0,c.Z)(function*(){const n=((o,t={})=>{const n=Object.assign({method:o.method||"GET",headers:o.headers},t),d=((o={})=>{const t=Object.keys(o);return Object.keys(o).map(d=>d.toLocaleLowerCase()).reduce((d,r,g)=>(d[r]=o[t[g]],d),{})})(o.headers)["content-type"]||"";if("string"==typeof o.data)n.body=o.data;else if(d.includes("application/x-www-form-urlencoded")){const r=new URLSearchParams;for(const[g,s]of Object.entries(o.data||{}))r.set(g,s);n.body=r.toString()}else if(d.includes("multipart/form-data")){const r=new FormData;if(o.data instanceof FormData)o.data.forEach((s,P)=>{r.append(P,s)});else for(const s of Object.keys(o.data))r.append(s,o.data[s]);n.body=r;const g=new Headers(n.headers);g.delete("content-type"),n.headers=g}else(d.includes("application/json")||"object"==typeof o.data)&&(n.body=JSON.stringify(o.data));return n})(t,t.webFetchExtra),i=((o,t=!0)=>o?Object.entries(o).reduce((i,d)=>{const[r,g]=d;let s,P;return Array.isArray(g)?(P="",g.forEach(m=>{s=t?encodeURIComponent(m):m,P+=`${r}=${s}&`}),P.slice(0,-1)):(s=t?encodeURIComponent(g):g,P=`${r}=${s}`),`${i}&${P}`},"").substr(1):null)(t.params,t.shouldEncodeUrlParams),d=i?`${t.url}?${i}`:t.url,r=yield fetch(d,n),g=r.headers.get("content-type")||"";let P,m,{responseType:s="text"}=r.ok?t:{};switch(g.includes("application/json")&&(s="json"),s){case"arraybuffer":case"blob":m=yield r.blob(),P=yield K(m);break;case"json":P=yield r.json();break;default:P=yield r.text()}const q={};return r.headers.forEach((S,z)=>{q[z]=S}),{data:P,headers:q,status:r.status,url:r.url}})()}get(t){var n=this;return(0,c.Z)(function*(){return n.request(Object.assign(Object.assign({},t),{method:"GET"}))})()}post(t){var n=this;return(0,c.Z)(function*(){return n.request(Object.assign(Object.assign({},t),{method:"POST"}))})()}put(t){var n=this;return(0,c.Z)(function*(){return n.request(Object.assign(Object.assign({},t),{method:"PUT"}))})()}patch(t){var n=this;return(0,c.Z)(function*(){return n.request(Object.assign(Object.assign({},t),{method:"PATCH"}))})()}delete(t){var n=this;return(0,c.Z)(function*(){return n.request(Object.assign(Object.assign({},t),{method:"DELETE"}))})()}}D("CapacitorHttp",{web:()=>new p})},58:(ee,M,f)=>{f.r(M),f.d(M,{HomePageModule:()=>K});var c=f(7243),T=f(5861),k=f(3117),v=f(2726);const te=(0,v.fo)("Geolocation",{web:()=>f.e(579).then(f.bind(f,579)).then(l=>new l.GeolocationWeb)});var ne=f(5961);const F=(0,v.fo)("Camera",{web:()=>f.e(6468).then(f.bind(f,6468)).then(l=>new l.CameraWeb)});var A=f(3281),e=f(9468),N=f(7494),C=f(7027),$=f(6814);function E(l,y){if(1&l&&(e.TgZ(0,"span",8)(1,"p"),e._uU(2,"lat, lon"),e.qZA(),e.TgZ(3,"ion-note"),e._uU(4),e.qZA()()),2&l){const u=e.oxw();e.xp6(4),e.AsE("",u.weather.latitude," , ",u.weather.longitude,"")}}function D(l,y){1&l&&e._UZ(0,"div",9)}function oe(l,y){if(1&l&&(e.TgZ(0,"div",10)(1,"p"),e._uU(2),e.qZA()()),2&l){const u=e.oxw();e.xp6(2),e.Oqu(u.errorMessage.error)}}function re(l,y){if(1&l){const u=e.EpF();e.TgZ(0,"div",11)(1,"ion-thumbnail",12)(2,"img",13),e.NdJ("click",function(){e.CHM(u);const a=e.oxw();return e.KtG(a.takePicture())}),e.qZA()()()}if(2&l){const u=e.oxw();e.xp6(2),e.Q6J("src",u.image_src,e.LSH)}}function G(l,y){if(1&l&&(e.TgZ(0,"div",14)(1,"ion-list")(2,"ion-item",15)(3,"ion-label",16),e._uU(4," Temperature "),e.qZA(),e.TgZ(5,"ion-label",17),e._uU(6),e.qZA()(),e.TgZ(7,"ion-item",15)(8,"ion-label",16),e._uU(9," Humidity "),e.qZA(),e.TgZ(10,"ion-label",17),e._uU(11),e.qZA()(),e.TgZ(12,"ion-item",15)(13,"ion-label",16),e._uU(14," Wind Speed "),e.qZA(),e.TgZ(15,"ion-label",17),e._uU(16),e.qZA()(),e.TgZ(17,"ion-item",15)(18,"ion-label",16),e._uU(19," Elevation "),e.qZA(),e.TgZ(20,"ion-label",17),e._uU(21),e.qZA()()()()),2&l){const u=e.oxw();e.xp6(6),e.hij(" ",u.weather.hourly.temperature_2m[0],"\xb0 "),e.xp6(5),e.hij(" ",u.weather.hourly.relativehumidity_2m[0],"% "),e.xp6(5),e.hij(" ",u.weather.hourly.windspeed_10m[0],"\u0138m/h "),e.xp6(5),e.hij(" ",u.weather.elevation," ")}}function ie(l,y){if(1&l&&(e.TgZ(0,"ion-item"),e._UZ(1,"div",16),e.TgZ(2,"ion-label",19)(3,"h1",20),e._uU(4),e.qZA(),e.TgZ(5,"span")(6,"h2",21),e._uU(7," Temperature "),e.TgZ(8,"span")(9,"ion-note"),e._uU(10),e.qZA()()(),e.TgZ(11,"h2"),e._uU(12," Humidity "),e.TgZ(13,"span")(14,"ion-note"),e._uU(15),e.qZA()()(),e.TgZ(16,"h2",21),e._uU(17," Wind Speed "),e.TgZ(18,"span")(19,"ion-note"),e._uU(20),e.qZA()()(),e.TgZ(21,"h2"),e._uU(22," Elevation "),e.TgZ(23,"span")(24,"ion-note"),e._uU(25),e.qZA()()()()()()),2&l){const u=y.$implicit,p=y.index,a=e.oxw(2);e.xp6(4),e.hij(" ",a.weather.hourly.time[p].substring(a.weather.hourly.time[p].indexOf("T")+1)," "),e.xp6(6),e.hij(" ",u," "),e.xp6(5),e.hij(" ",a.weather.hourly.relativehumidity_2m[p],"% "),e.xp6(5),e.hij(" ",a.weather.hourly.windspeed_10m[p],"\u0138m/h "),e.xp6(5),e.hij(" ",a.weather.elevation," ")}}function B(l,y){if(1&l&&(e.TgZ(0,"div"),e.YNc(1,ie,26,5,"ion-item",18),e.ALo(2,"slice"),e.qZA()),2&l){const u=e.oxw();e.xp6(1),e.Q6J("ngForOf",e.Dn7(2,1,u.weather.hourly.temperature_2m,2,7))}}const J=function(){return{"padding-top":"2rem","padding-left":"1rem",display:"inline-block",position:"absolute",margin:"auto",width:"4rem"}},Q=function(l){return{display:l}};let ae=(()=>{var l;class y{ngOnInit(){this.weatherSubscription=this.store.select("weather").subscribe(p=>{this.isLoading=p.loading,this.errorMessage=p.error,this.weather=p.weather;const a=localStorage.getItem("latest");null!==JSON.parse(a)&&(this.weather=JSON.parse(a))})}constructor(p){var a=this;this.store=p,this.isLoading=!1,this.image_src="https://ionicframework.com/docs/img/demos/thumbnail.svg",this.addWeatherToDataBase=(0,T.Z)(function*(){!0===a.isLoading?setTimeout(a.addWeatherToDataBase,100):(a.store.dispatch(new k.Wz([Number(a.weather.latitude).toFixed(2).toString().replace(".","_"),Number(a.weather.longitude).toFixed(2).toString().replace(".","_")])),localStorage.setItem("latest",JSON.stringify(a.weather)))}),this.getGeoLoaction=(0,T.Z)(function*(){te.getCurrentPosition().then(o=>(a.store.dispatch(new k.Ls([o.coords.latitude.toString(),o.coords.longitude.toString()])),a.image_src="https://ionicframework.com/docs/img/demos/thumbnail.svg",a.addWeatherToDataBase(),o)).catch(o=>console.log(o))}),this.takePicture=(0,T.Z)(function*(){F.getPhoto({quality:90,allowEditing:!0,resultType:ne.dk.Uri}).then(o=>{var t;a.image_src=o.webPath,a.store.dispatch(new k.Qq(null===(t=a.image_src)||void 0===t?void 0:t.substring(a.image_src.indexOf(":")+1)))}).catch(o=>console.log(o))})}onLogout(){this.store.dispatch(new A.RD)}ngOnDestroy(){this.weatherSubscription&&this.weatherSubscription.unsubscribe()}}return(l=y).\u0275fac=function(p){return new(p||l)(e.Y36(N.yh))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-home-page"]],decls:15,vars:11,consts:[[2,"cursor","pointer","float","right",3,"click"],[3,"ngStyle","click"],["style","float: right; display: block; padding-top: 1rem; padding-right: 1rem;",4,"ngIf"],["style","text-align: center;","class","loader",4,"ngIf"],["class","alert",4,"ngIf"],["style","display: block; margin: auto; padding-top: 1rem; padding-bottom: 1rem;",4,"ngIf"],["class","ion-padding",4,"ngIf"],[4,"ngIf"],[2,"float","right","display","block","padding-top","1rem","padding-right","1rem"],[1,"loader",2,"text-align","center"],[1,"alert"],[2,"display","block","margin","auto","padding-top","1rem","padding-bottom","1rem"],[2,"width","5rem","margin","auto","height","5rem"],["alt","Silhouette of mountains",2,"cursor","pointer","border","2px solid darkslategrey","border-radius","5px",3,"src","click"],[1,"ion-padding"],["padding",""],["slot","start"],["slot","end"],[4,"ngFor","ngForOf"],[1,"ion-text-wrap"],[2,"display","block","float","left","padding-top","5px","padding-right","10px"],[1,"segment"]],template:function(p,a){1&p&&(e.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e._uU(3,"Home"),e.qZA(),e.TgZ(4,"a",0),e.NdJ("click",function(){return a.onLogout()}),e._uU(5,"Logout"),e.qZA()()(),e.TgZ(6,"ion-content")(7,"ion-button",1),e.NdJ("click",function(){return a.getGeoLoaction()}),e._uU(8),e.qZA(),e.YNc(9,E,5,2,"span",2),e.YNc(10,D,1,0,"div",3),e.YNc(11,oe,3,1,"div",4),e.YNc(12,re,3,1,"div",5),e.YNc(13,G,22,4,"div",6),e.YNc(14,B,3,5,"div",7),e.qZA()),2&p&&(e.xp6(7),e.Q6J("ngStyle",a.isLoading||0===a.weather.latitude?e.VKq(9,Q,a.isLoading?"none":"block"):e.DdM(8,J)),e.xp6(1),e.hij(" ",a.isLoading||0===a.weather.latitude?"Get Geoloaction":"\u{1f4cd}"," "),e.xp6(1),e.Q6J("ngIf",!a.isLoading&&0!==a.weather.latitude),e.xp6(1),e.Q6J("ngIf",a.isLoading),e.xp6(1),e.Q6J("ngIf",a.errorMessage),e.xp6(1),e.Q6J("ngIf",!a.isLoading&&0!==a.weather.latitude),e.xp6(1),e.Q6J("ngIf",!a.isLoading&&0!==a.weather.latitude),e.xp6(1),e.Q6J("ngIf",!a.isLoading&&0!==a.weather.latitude))},dependencies:[C.YG,C.W2,C.Gu,C.Ie,C.Q$,C.q_,C.uN,C.Bs,C.wd,C.sr,$.sg,$.O5,$.PC,$.OU],styles:["ion-content[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;margin-top:30vh;width:10rem}.loader[_ngcontent-%COMP%]{border:16px solid #f3f3f3;border-top:16px solid #3498db;border-radius:50%;width:100px;height:100px;animation:_ngcontent-%COMP%_spin 2s linear infinite;align-self:center;margin:auto;margin-top:30vh}.alert[_ngcontent-%COMP%]{align-self:center;margin-top:6rem;color:#f5f5f5;font-weight:700;font-size:150%;width:80%;text-align:center;border:1px solid red;background-color:#ffa07a8e;border-radius:10px;text-shadow:1px 1px 2px rgba(0,0,0,.4)}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.ion-padding[_ngcontent-%COMP%]{width:90%;margin:auto;border:1px solid azure;border-radius:10px;background-color:#f0f8ff}ion-label[_ngcontent-%COMP%]{overflow:initial!important}ion-list[_ngcontent-%COMP%]{background-color:#e5fbfd}.segment[_ngcontent-%COMP%]{float:left;padding-right:10px}"]}),y})(),K=(()=>{var l;class y{}return(l=y).\u0275fac=function(p){return new(p||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[C.Pc,$.ez,c.Bz.forChild([{path:"",component:ae}])]}),y})()}}]);